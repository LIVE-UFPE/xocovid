{% extends "base.html" %}
{% block body_block %}
<html>
  <div id="app">
    <v-app>
      <!-- --------TAB BAR------- -->
      <template>
        <div>
          <v-app-bar
            color="#1E9CF8"
            dense
            dark
            flat
            style="z-index: 1"
          >
          <!-- style="" -->
            <v-app-bar-nav-icon disabled></v-app-bar-nav-icon>
            
            <v-toolbar-title style="width: 100%;display: flex;flex-direction: row;justify-content: center;">
              <img style="margin-left: 30px;height: 25px;" src='../static/logo/logoWhite.png'/>
            </v-toolbar-title>
      
            <v-spacer></v-spacer>

            <v-menu
              left
              bottom
            >
              <template v-slot:activator="{ on }">
                <v-btn outlined v-on="on" style="border-radius: 4px;border: 0;">
                  <v-icon>mdi-account-outline</v-icon>
                  Perfil
                </v-btn>
              </template>
      
              <v-list class="mt-10">
                <v-list-item
                  @click="load_option(n)"
                  href="logout"
                >
                  <v-list-item-title href="logout">Sair</v-list-item-title>
                </v-list-item>
              </v-list>
            </v-menu>
            <!-- <v-btn href="logout" class="ma-2" text icon color="blue lighten-5">
              <v-icon  color="white">mdi-account-outline</v-icon>
              Conta
            </v-btn> -->
          </v-app-bar>
        </div>
      </template>
      <!-- Card legenda -->
      <div style="position: absolute;bottom: 150px;left: 10vmin;z-index: 1">
        <v-card
          class="mx-auto pb-2"
          max-width="220"
          max-height="500"
          width="220"
          outlined
          style="box-shadow: 0 0 8px 0px rgba(0, 0, 0, 0.084);z-index: 1"
        >
          <v-list-item three-line>
            <v-list-item-content>
              <div style="display: flex;justify-content: center;flex-direction: column;align-items: center;">
                <v-list-item-title style="font-weight: 800;color: #1E9CF8;" class="headline mt-2 mb-4">Legenda</v-list-item-title>
                
                <div style="display: flex;flex-direction: column;justify-content: center;align-items: center;">
                  <v-chip
                    class="mt-2"
                    color="white"
                    label
                    outlined
                    text-color="#1E9CF8"
                    style="display: flex;flex-direction: row;justify-content: space-around;box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.2);"

                  >
                    <div class="mr-4" left style="width: 20px;height: 20px;border-radius: 4px;background-color: #34eb8f;"></div>
                    <div v-if="maxInt === 0" >Baixa densidade</div>
                    <div v-else >Baixa quantidade</div>

                  </v-chip>

                  <v-chip
                    class="mt-2"
                    color="white"
                    label
                    outlined
                    text-color="#1E9CF8"
                    style="display: flex;flex-direction: row;justify-content: space-around;box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.2);"

                  >
                    <div class="mr-4" left style="width: 20px;height: 20px;border-radius: 4px;background-color: #f0c61f;"></div>
                    <div v-if="maxInt === 0" >Média densidade</div>
                    <div v-else >Média quantidade</div>

                  </v-chip>

                  <v-chip
                    class="mt-2"
                    color="white"
                    label
                    outlined
                    text-color="#1E9CF8"
                    style="display: flex;flex-direction: row;justify-content: space-around;box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.2);"

                  >
                    <div class="mr-4" left style="width: 20px;height: 20px;border-radius: 4px;background-color: #f0371f;"></div>
                    <div v-if="maxInt === 0" >Alta densidade</div>
                    <div v-else >Alta quantidade</div>

                  </v-chip>
                </div>
              </div>
              
            </v-list-item-content>
          </v-list-item>
        </v-card>
      </div>
      <!-- Card Popup-->
      <!-- Esse componente deverá ser colocado como popup na api do mapa -->
      {% comment %} <div style="position: absolute;bottom: 150px;left: 42vmin;width: 700px;height: 500px;">
        <v-card
          class="mx-auto pb-2"
          max-height="500"
          height="400"
          width="500"
          outlined
          style="box-shadow: 0 0 8px 0px rgba(0, 0, 0, 0.084);z-index: 1"
        >
          <v-list-item three-line >
            <v-list-item-content >
              <div style="display: flex;flex-direction: column;justify-content: center;align-items: center;">
                <v-list-item-title style="font-weight: 800;color: #1E9CF8;" class="headline mt-2 mb-4">Nome do Bairro, cidade, estado</v-list-item-title>
                
                <div class="mt-8" style="display: flex;flex-direction: row;justify-content: center;align-items: center;width: 100%;">
                  <v-list
                    :disabled="disabled"
                    :dense="dense"
                    :two-line="twoLine"
                    :three-line="threeLine"
                    :shaped="shaped"
                    :flat="flat"
                    :subheader="subheader"
                    :sub-group="subGroup"
                    :nav="nav"
                    :avatar="avatar"
                    :rounded="rounded"
                    disabled
                  >
                  <v-subheader>REPORTS</v-subheader>
                  <v-list-item-group v-model="item" color="primary">
                    <v-list-item
                      v-for="(item, i) in items"
                      :key="i"
                      :inactive="inactive"
                    >
                      <v-list-item-avatar v-if="avatar">
                        <v-img :src="item.avatar"></v-img>
                      </v-list-item-avatar>
                      <v-list-item-content>
                        <v-list-item-title v-html="item.title"></v-list-item-title>
                        <v-list-item-subtitle v-if="twoLine || threeLine" v-html="item.subtitle"></v-list-item-subtitle>
                      </v-list-item-content>
                    </v-list-item>
                  </v-list-item-group>
                </v-list>
                <v-list
                    :disabled="disabled"
                    :dense="dense"
                    :two-line="twoLine"
                    :three-line="threeLine"
                    :shaped="shaped"
                    :flat="flat"
                    :subheader="subheader"
                    :sub-group="subGroup"
                    :nav="nav"
                    :avatar="avatar"
                    :rounded="rounded"
                    disabled
                  >
                  <v-subheader>REPORTS</v-subheader>
                  <v-list-item-group v-model="item" color="primary">
                    <v-list-item
                      v-for="(item, i) in items"
                      :key="i"
                      :inactive="inactive"
                    >
                      <v-list-item-avatar v-if="avatar">
                        <v-img :src="item.avatar"></v-img>
                      </v-list-item-avatar>
                      <v-list-item-content>
                        <v-list-item-title v-html="item.title"></v-list-item-title>
                        <v-list-item-subtitle v-if="twoLine || threeLine" v-html="item.subtitle"></v-list-item-subtitle>
                      </v-list-item-content>
                    </v-list-item>
                  </v-list-item-group>
                </v-list>
                </div>
              </div>
              
            </v-list-item-content>
          </v-list-item>
        </v-card>
      </div> {% endcomment %}
      <!-- --------CARD MENU------- -->
      <div class="text-center" style="position: absolute;bottom: 30px;right: 10vmin;left: 10vmin;z-index: 1">
        <template>
          <v-bottom-navigation
            grow
            height="100"
            background-color="white"
            color="#1E9CF8"
            :value="activeBtn"
            style="z-index: 1"
          >
            <v-btn href='graphs'>
              <span style="color:#1E9CF8">Mais informações</span>
              <v-icon size="55" color="#1E9CF8">mdi-file</v-icon>
            </v-btn>
            <v-btn disabled style="background-color: white !important;" >
              <div class="text-center">
                <v-list-item-subtitle style="color:#1E9CF8;font-size: medium;">11/03/2020</v-list-item-subtitle>
              </div> 
            </v-btn>
  
            <v-btn @click="dateBack">
              <span style="color:#1E9CF8">Voltar</span>
              <v-icon size="55" color="#1E9CF8">mdi-chevron-left-box</v-icon>
            </v-btn>
        
            <v-btn disabled style="background-color: white !important;" >
              <div class="text-center">
                <v-list-item-title style="color:#1E9CF8;font-size: x-large;"><b>[[datedb.toISOString().substring(0,10)]]</b></v-list-item-title>
              </div> 
            </v-btn>
        
            <v-btn @click="dateForward">
              <span style="color:#1E9CF8;">Avançar</span>
              <v-icon size="55" color="#1E9CF8">mdi-chevron-right-box</v-icon>
            </v-btn>
            <v-btn disabled style="background-color: white !important;" >
              <div class="text-center">
                <v-list-item-subtitle style="color:#1E9CF8;font-size: medium;">31/03/2020</v-list-item-subtitle>
              </div> 
            </v-btn>
            
            <v-bottom-sheet v-model="sheet">
              <template v-slot:activator="{ on }">
                <v-btn v-on='on'>
                  <span style="color:#1E9CF8">Alterar Mapa</span>
                  <div class="text-center">
                    <v-list-item-title v-if="maxInt === 0" style="color:#1E9CF8">Densidade</v-list-item-title>
                    <v-list-item-title v-if="maxInt === 1" style="color:#1E9CF8">Casos Confirmados</v-list-item-title>
                  </div>
                </v-btn>
              </template>
              <v-sheet class="text-center" height="200px">
                <!-- <v-btn
                  class="mt-6"
                  text
                  color="blue"
                  @click="sheet = !sheet"
                  v-on='o'
                >close</v-btn> -->
                <v-container>
                  <v-row>
                    <v-col
                      cols="6"
                      class="mt-4"
                    >
                      <v-card
                        class="mx-auto"
                        elevation="2"
                        flat
                      >
                      <v-list-item three-line>
                        <v-list-item-content>
                          <!-- <div class="overline mb-2">OVERLINE</div> -->
                          <v-list-item>
                            <v-tooltip right color="#1E9CF8">
                              <template v-slot:activator="{ on }">
                                <v-btn v-on="on" icon><v-icon size="30" color="#1E9CF8">mdi-information-outline</v-icon></v-btn>
                              </template>
                              <span>??</span>
                            </v-tooltip>
                          </v-list-item>
                          <v-list-item-title style="margin-top: -45px;" class="headline mb-1">Densidade</v-list-item-title>   
                          <v-list-item-subtitle class="mb-2">Mapa de calor que exibe a densidade de casos no Brasil ou Pernambuco.</v-list-item-subtitle>
                      
                          <div class="justify-center">
                              <v-btn style="border-radius: 5px;" @click="sheet = !sheet;maxInt=0" outlined color="#1E9CF8">
                                Selecionar
                              </v-btn>
                          </div>
                        </v-list-item-content>
                      </v-card>
                    </v-col>
                  
                    <v-col
                      cols="6"
                      class="mt-4"
                    >
                        <v-card
                        class="mx-auto"
                        elevation="2"
                        max-height="180"
                        flat
                      >
                      <v-list-item three-line>
                        <v-list-item-content>
                          <!-- <div class="overline mb-2">OVERLINE</div> -->
                          <!-- TODO ajeitar essas datas do lado dos botoes de avançar e voltar -->
                          <v-list-item>
                            <v-tooltip right color="#1E9CF8">
                              <template v-slot:activator="{ on }">
                                <v-btn v-on="on" icon><v-icon size="30" color="#1E9CF8">mdi-information-outline</v-icon></v-btn>
                              </template>
                              <span>!!</span>
                            </v-tooltip>
                          </v-list-item>

                          <v-list-item-title style="margin-top: -45px;" class="headline mb-1">Casos Confirmados</v-list-item-title>   
                          <v-list-item-subtitle class="mb-2">Mapa que exibe a quantidade de casos confirmados por estado, denotados por um padrão de cores.</v-list-item-subtitle>
                      
                          <div class="justify-center">
                              <v-btn style="border-radius: 5px;" @click="sheet = !sheet;maxInt=1" outlined color="#1E9CF8">
                                Selecionar
                              </v-btn>
                          </div>
                          
                        </v-list-item-content>
                      </v-card>
                    </v-col>
                  </v-row>
                </v-container>
              </v-sheet>
            </v-bottom-sheet>
          </v-bottom-navigation>
        </template>
      </div>
    <!-- --------CARD MENU 2------- -->
    <!-- Map -->
      <div style="position: absolute;bottom: 380px;left: 10vmin;z-index: 1" v-if="maxInt === 0">
        <v-card
        class="mx-auto pb-2"
        max-width="220"
        max-height="500"
        width="220"
        outlined
        style="box-shadow: 0 0 8px 0px rgba(0, 0, 0, 0.084);z-index: 1"
        >
            <p class="body-1 mb-0 pt-2 text-center d-block"> Dados do: </p>
            <v-card-actions class="pt-0 text-center">
              <v-radio-group v-model="radioheat" class="pa-0">
                  <v-radio label="Brasil" value="brasil"></v-radio>
                  <v-radio label="Pernambuco" value="pernambuco"></v-radio>
              </v-radio-group>
            </v-card-actions>
            
        </v-card> 
      </div>
      
      <!-- ! por algum motivo, as alterações so vao qd um deles é comentado -->
      <state-map v-if="maxInt === 1" :datedb="datedb" ></state-map>
      <covid-map v-else :radioheat="radioheat" :datedb="datedb" :predictspe="useIa ? predictspe : []" :predicts="useIa ? predicts : []" :lastinterpol="lastinterpol" :maiorintbr="maiorint" :maiorintpe="maiorintpe"></covid-map>
    </v-app>
  </div>
</html>

{% endblock %}
